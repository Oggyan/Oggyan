<!DOCTYPE html>
<html lang="en">
<head>
    <title>Networking Example</title>
   
</head>
<body>
    


    <script>

        function getdata (url){
            let p = new Promise((resolve,rejecet)=>{
                
                let xhttp = new XMLHttpRequest();
    
        
                xhttp.onreadystatechange = function(){
                    if(this.readyState === 4){
                        if(this.status === 200){

                            resolve(JSON.parse(this.responseText));
                        }
                        else{
                            rejecet("Some Error")
                        }
                    }
                  
                }
        
                xhttp.open("GET",url,false);
                xhttp.send();
            })

            return p;
        

        }


        getdata("https://jsonplaceholder.typicode.com/users")
        .then ((data) => {
            console.log(data);

            return getdata("https://jsonplaceholder.typicode.com/posts")
        })
        .then((data)=>{
            console.log(data);

            return getdata("https://jsonplaceholder.typicode.com/comments")

        })
        .then((data)=>{
            console.log(data);
        })
        .catch((data)=>{
            console.log(data);
        })

        // getdata("https://jsonplaceholder.typicode.com/users",function(users,err){
        //     if(err === undefined){

        //         console.log(users);
               
    
                
        //         getdata("https://jsonplaceholder.typicode.com/posts",function(posts,err){
        //             if(err === undefined){

        //                 console.log(posts);
               
        
                        
        //                 getdata("https://jsonplaceholder.typicode.com/comments",function(comments,err){
                        
        //                     if(err === undefined){

        //                         console.log(comments);
        //                     }
        //                     else{

        //                         console.log(err);
        //                     }
        
                            
        //                 });
        //             }
        //             else{
        //                 console.log(err);
        //             }
                
        //         });
        //     }
        //     else{
        //         console.log(err);
                
        //     }
        // });


        // console.log(1);
        
        // function dosomething(){
        //     let p = new Promise ((resolve,reject)=>{
        //         let task = false;
        //         if(task === true){
        //             resolve("Promise resolved");
        //         }
        //         else{
        //             reject("Promise Rejected");
        //         }
        //     })

        //     return p;
        // }
        
        // dosomething()
        // .then((data)=>{console.log(data);})
        // .catch((data)=>{console.log(data)})


    </script>
</body>
</html>




<!-- https://jsonplaceholder.typicode.com/users -->


<!-- callback = function (){

} -->


<!-- //promises 





-->